% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/bruceR-stats_5_advance.R
\name{ccf_plot}
\alias{ccf_plot}
\title{Cross-correlation analysis.}
\usage{
ccf_plot(
  formula,
  data,
  lag.max = 30,
  sig.level = 0.05,
  xbreaks = seq(-100, 100, 10),
  ybreaks = seq(-1, 1, 0.2),
  ylim = NULL,
  alpha.ns = 1,
  pos.color = "black",
  neg.color = "black",
  ci.color = "blue",
  title = NULL,
  subtitle = NULL,
  xlab = "Lag",
  ylab = "Cross-Correlation"
)
}
\arguments{
\item{formula}{Model formula like \code{y ~ x}.}

\item{data}{Data frame.}

\item{lag.max}{Maximum time lag. Defaults to \code{30}.}

\item{sig.level}{Significance level. Defaults to \code{0.05}.}

\item{xbreaks}{X-axis breaks.}

\item{ybreaks}{Y-axis breaks.}

\item{ylim}{Y-axis limits. Defaults to \code{NULL} to automatically estimate.}

\item{alpha.ns}{Color transparency (opacity: 0~1) for non-significant values. Defaults to \code{1} for no transparency (i.e., opaque color).}

\item{pos.color}{Color for positive values. Defaults to \code{"black"}.}

\item{neg.color}{Color for negative values. Defaults to \code{"black"}.}

\item{ci.color}{Color for upper and lower bounds of significant values. Defaults to \code{"blue"}.}

\item{title}{Plot title. Defaults to an illustration of the formula.}

\item{subtitle}{Plot subtitle.}

\item{xlab}{X-axis title. Defaults to \code{"Lag"}.}

\item{ylab}{Y-axis title. Defaults to \code{"Cross-Correlation"}.}
}
\value{
A \code{ggplot} object, which can be further modified using \code{ggplot2} syntax and saved using \code{\link[ggplot2:ggsave]{ggsave()}}.
}
\description{
Plot the results of cross-correlation analysis using \code{ggplot2}.
}
\details{
Significant correlations with \emph{negative time lags} suggest
shifts in a predictor \emph{precede} shifts in an outcome.
}
\examples{
# resemble the default plot output by `ccf()`
p1 = ccf_plot(chicken ~ egg, data=lmtest::ChickEgg)
p1

# a more colorful plot
p2 = ccf_plot(chicken ~ egg, data=lmtest::ChickEgg, alpha.ns=0.3,
              pos.color="#CD201F",
              neg.color="#21759B",
              ci.color="black")
p2

}
\seealso{
\code{\link[=granger_test]{granger_test()}}
}
