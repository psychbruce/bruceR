<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Tidy report of HLM indices: ICC(1), ICC(2), and rWG/rWG(J). — HLM_ICC_rWG • bruceR</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/simplex/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Tidy report of HLM indices: ICC(1), ICC(2), and rWG/rWG(J). — HLM_ICC_rWG"><meta property="og:description" content="Compute ICC(1) (non-independence of data),
ICC(2) (reliability of group means),
and rWG/rWG(J) (within-group agreement for single-item/multi-item measures)
in multilevel analysis (HLM)."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">bruceR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.8.5-3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/psychbruce/bruceR/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Tidy report of HLM indices: ICC(1), ICC(2), and rWG/rWG(J).</h1>
    <small class="dont-index">Source: <a href="https://github.com/psychbruce/bruceR/blob/HEAD/R/bruceR_stats_04_regress.R" class="external-link"><code>R/bruceR_stats_04_regress.R</code></a></small>
    <div class="hidden name"><code>HLM_ICC_rWG.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Compute ICC(1) (non-independence of data),
ICC(2) (reliability of group means),
and rWG/rWG(J) (within-group agreement for single-item/multi-item measures)
in multilevel analysis (HLM).</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">HLM_ICC_rWG</span><span class="op">(</span>
  <span class="va">data</span>,
  <span class="va">group</span>,
  <span class="va">icc.var</span>,
  rwg.vars <span class="op">=</span> <span class="va">icc.var</span>,
  rwg.levels <span class="op">=</span> <span class="fl">0</span>,
  digits <span class="op">=</span> <span class="fl">3</span>,
  nsmall <span class="op">=</span> <span class="va">digits</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>data</dt>
<dd><p>Data frame.</p></dd>
<dt>group</dt>
<dd><p>Grouping variable.</p></dd>
<dt>icc.var</dt>
<dd><p>Key variable for analysis (usually the dependent variable).</p></dd>
<dt>rwg.vars</dt>
<dd><p>Default is <code>icc.var</code>. It can be:</p><ul><li><p>A single variable (<em>single-item</em> measure), then computing rWG.</p></li>
<li><p>Multiple variables (<em>multi-item</em> measure), then computing rWG(J), where J = the number of items.</p></li>
</ul></dd>
<dt>rwg.levels</dt>
<dd><p>As rWG/rWG(J) compares the actual group variance to the expected random variance (i.e., the variance of uniform distribution, \(\sigma_EU^2\)),
it is required to specify which type of uniform distribution is.</p><ul><li><p>For <em>continuous</em> uniform distribution, \(\sigma_EU^2 = (max - min)^2 / 12\).
  Then <code>rwg.levels</code> is not useful and will be set to <code>0</code> (the default).</p></li>
<li><p>For <em>discrete</em> uniform distribution, \(\sigma_EU^2 = (A^2 - 1) / 12\),
  where A is the number of response options (levels).
  Then <code>rwg.levels</code> should be provided (= A in the above formula).
  For example, if the measure is a 5-point Likert scale, you should set <code>rwg.levels=5</code>.</p></li>
</ul></dd>
<dt>digits, nsmall</dt>
<dd><p>Number of decimal places of output. Default is 3.</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>Invisibly return a list of results.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    
<dl><dt><strong>ICC(1) (intra-class correlation, or non-independence of data)</strong></dt>
<dd><p>ICC(1) = var.u0 / (var.u0 + var.e) = \(\sigma_{u0}^2 / (\sigma_{u0}^2 + \sigma_{e}^2)\))</p>
<p>ICC(1) is the ICC we often compute and report in multilevel analysis
    (usually in the Null Model, where only the random intercept of group is included).
    It can be interpreted as either <strong>"the proportion of variance explained by groups"</strong> (i.e., <em>heterogeneity</em> between groups)
    or <strong>"the expectation of correlation coefficient between any two observations within any group"</strong> (i.e., <em>homogeneity</em> within groups).</p></dd>

  <dt><strong>ICC(2) (reliability of group means)</strong></dt>
<dd><p>ICC(2) = mean(var.u0 / (var.u0 + var.e / n.k)) = \(\Sigma[\sigma_{u0}^2 / (\sigma_{u0}^2 + \sigma_{e}^2 / n_k)] / K\)</p>
<p>ICC(2) is a measure of <strong>"the representativeness of group-level aggregated means for within-group individual values"</strong>
    or <strong>"the degree to which an individual score can be considered a reliable assessment of a group-level construct"</strong>.</p></dd>

  <dt><strong>rWG/rWG(J) (within-group agreement for single-item/multi-item measures)</strong></dt>
<dd><p>rWG = \(1 - \sigma^2 / \sigma_{EU}^2\)</p>
<p>rWG(J) = \(1 - (\sigma_{MJ}^2 / \sigma_{EU}^2) / [J * (1 - \sigma_{MJ}^2 / \sigma_{EU}^2) + \sigma_{MJ}^2 / \sigma_{EU}^2]\)</p>
<p>rWG/rWG(J) is a measure of within-group agreement or consensus. Each group has an rWG/rWG(J).</p></dd>

  <dt>* Note for the above formulas</dt>
<dd><p></p><ul><li><p>\(\sigma_{u0}^2\): between-group variance (i.e., tau00)</p></li>
<li><p>\(\sigma_{e}^2\): within-group variance (i.e., residual variance)</p></li>
<li><p>\(n_k\): group size of the k-th group</p></li>
<li><p>\(K\): number of groups</p></li>
<li><p>\(\sigma^2\): actual group variance of the k-th group</p></li>
<li><p>\(\sigma_{MJ}^2\): mean value of actual group variance of the k-th group across all J items</p></li>
<li><p>\(\sigma_{EU}^2\): expected random variance (i.e., the variance of uniform distribution)</p></li>
<li><p>\(J\): number of items</p></li>
</ul><p></p></dd>


</dl></div>
    <div id="references">
    <h2>References</h2>
    <p>Bliese, P. D. (2000). Within-group agreement, non-independence, and reliability: Implications for data aggregation and Analysis.
In K. J. Klein &amp; S. W. Kozlowski (Eds.), <em>Multilevel theory, research, and methods in organizations</em> (pp. 349-381). San Francisco, CA: Jossey-Bass, Inc.</p>
<p>James, L.R., Demaree, R.G., &amp; Wolf, G. (1984). Estimating within-group interrater reliability with and without response bias. <em>Journal of Applied Psychology, 69</em>, 85-98.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><a href="https://CRAN.R-project.org/package=multilevel" class="external-link">R package "multilevel"</a></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="va">data</span><span class="op">=</span><span class="fu">lme4</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/lme4/man/sleepstudy.html" class="external-link">sleepstudy</a></span>  <span class="co"># continuous variable</span></span>
<span class="r-in"><span class="fu">HLM_ICC_rWG</span><span class="op">(</span><span class="va">data</span>, group<span class="op">=</span><span class="st">"Subject"</span>, icc.var<span class="op">=</span><span class="st">"Reaction"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">------ Sample Size Information ------</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Level 1: <span style="font-style: italic;">N</span> = 180 observations ("Reaction")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Level 2: <span style="font-style: italic;">K</span> = 18 groups ("Subject")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        n (group sizes)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Min.                10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Median              10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Mean                10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Max.                10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">------ ICC(1), ICC(2), and rWG ------</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ICC variable: "Reaction"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ICC(1) = 0.395 <span style="color: #0000BB;">(non-independence of data)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ICC(2) = 0.867 <span style="color: #0000BB;">(reliability of group means)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> rWG variable: "Reaction"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> rWG <span style="color: #0000BB;">(within-group agreement for single-item measures)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ─────────────────────────────────────────────</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Min. 1st Qu. Median  Mean 3rd Qu.  Max.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ─────────────────────────────────────────────</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> rWG  0.000   0.482  0.778 0.684   0.876 0.981</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ─────────────────────────────────────────────</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"></span>
<span class="r-in"><span class="va">data</span><span class="op">=</span><span class="fu">lmerTest</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/lmerTest/man/carrots.html" class="external-link">carrots</a></span>  <span class="co"># 7-point scale</span></span>
<span class="r-in"><span class="fu">HLM_ICC_rWG</span><span class="op">(</span><span class="va">data</span>, group<span class="op">=</span><span class="st">"Consumer"</span>, icc.var<span class="op">=</span><span class="st">"Preference"</span>,</span>
<span class="r-in">            rwg.vars<span class="op">=</span><span class="st">"Preference"</span>,</span>
<span class="r-in">            rwg.levels<span class="op">=</span><span class="fl">7</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">------ Sample Size Information ------</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Level 1: <span style="font-style: italic;">N</span> = 1233 observations ("Preference")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Level 2: <span style="font-style: italic;">K</span> = 103 groups ("Consumer")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        n (group sizes)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Min.          11.00000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Median        12.00000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Mean          11.97087</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Max.          12.00000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">------ ICC(1), ICC(2), and rWG ------</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ICC variable: "Preference"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ICC(1) = 0.143 <span style="color: #0000BB;">(non-independence of data)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ICC(2) = 0.666 <span style="color: #0000BB;">(reliability of group means)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> rWG variable: "Preference"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> rWG <span style="color: #0000BB;">(within-group agreement for single-item measures)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ─────────────────────────────────────────────</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Min. 1st Qu. Median  Mean 3rd Qu.  Max.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ─────────────────────────────────────────────</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> rWG  0.000   0.631  0.752 0.711   0.815 1.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ─────────────────────────────────────────────</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span class="fu">HLM_ICC_rWG</span><span class="op">(</span><span class="va">data</span>, group<span class="op">=</span><span class="st">"Consumer"</span>, icc.var<span class="op">=</span><span class="st">"Preference"</span>,</span>
<span class="r-in">            rwg.vars<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Sweetness"</span>, <span class="st">"Bitter"</span>, <span class="st">"Crisp"</span><span class="op">)</span>,</span>
<span class="r-in">            rwg.levels<span class="op">=</span><span class="fl">7</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">------ Sample Size Information ------</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Level 1: <span style="font-style: italic;">N</span> = 1233 observations ("Preference")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Level 2: <span style="font-style: italic;">K</span> = 103 groups ("Consumer")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        n (group sizes)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Min.          11.00000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Median        12.00000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Mean          11.97087</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Max.          12.00000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">------ ICC(1), ICC(2), and rWG(J) ------</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ICC variable: "Preference"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ICC(1) = 0.143 <span style="color: #0000BB;">(non-independence of data)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ICC(2) = 0.666 <span style="color: #0000BB;">(reliability of group means)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> rWG(J) variables: "Sweetness", "Bitter", "Crisp"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> rWG(J) <span style="color: #0000BB;">(within-group agreement for multi-item measures)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ────────────────────────────────────────────────</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          Min. 1st Qu. Median  Mean 3rd Qu.  Max.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ────────────────────────────────────────────────</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> rWG(J)  0.170   0.807  0.871 0.841   0.908 0.983</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ────────────────────────────────────────────────</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Han-Wu-Shuang Bao.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a>
2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

